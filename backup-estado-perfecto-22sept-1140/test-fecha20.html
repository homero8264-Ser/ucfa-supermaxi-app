<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test FECHA 20</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-container { max-width: 800px; margin: 0 auto; }
        .btn { padding: 10px 20px; margin: 5px; background: #D2691E; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .btn:hover { background: #B8860B; }
        .content { margin-top: 20px; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        .partido { background: #f8f9fa; margin: 10px 0; padding: 15px; border-radius: 8px; border-left: 4px solid #D2691E; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Test FECHA 20 - UCFA</h1>
        
        <div>
            <button class="btn" onclick="testFetch()">üîÑ Test Cargar JSON</button>
            <button class="btn" onclick="testFormateo()">‚úèÔ∏è Test Formateo Nombres</button>
        </div>
        
        <div id="resultado" class="content">
            <p>Haz clic en los botones para probar...</p>
        </div>
    </div>

    <script>
        // Funci√≥n para formatear nombres
        function formatearNombreGoleador(nombreCompleto) {
            const partes = nombreCompleto.trim().split(' ');
            if (partes.length < 2) return nombreCompleto;
            
            const nombres = partes.slice(0, -1);
            const apellido = partes[partes.length - 1];
            const iniciales = nombres.map(nombre => nombre.charAt(0) + '.').join(' ');
            
            return `${iniciales} ${apellido}`;
        }

        // Test de formateo de nombres
        function testFormateo() {
            const resultado = document.getElementById('resultado');
            const nombres = [
                "FABIAN MARCELO FARAH",
                "CLAUDIO ALEJANDRO RIVADERO", 
                "CARLOS GUSTAVO BOSSIO",
                "JOSE GERARDO LUNA"
            ];
            
            let html = '<h3>‚úÖ Test Formateo de Nombres:</h3>';
            nombres.forEach(nombre => {
                const formateado = formatearNombreGoleador(nombre);
                html += `<p><strong>Original:</strong> ${nombre}<br><strong>Formateado:</strong> ${formateado}</p>`;
            });
            
            resultado.innerHTML = html;
        }

        // Test de carga de JSON
        function testFetch() {
            const resultado = document.getElementById('resultado');
            resultado.innerHTML = '<p>‚è≥ Cargando resultados-fecha20.json...</p>';
            
            fetch('resultados-fecha20.json?' + new Date().getTime())
                .then(response => {
                    console.log('Response status:', response.status);
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Data loaded:', data);
                    
                    let html = `<h3>‚úÖ JSON Cargado Exitosamente!</h3>`;
                    html += `<p><strong>Fecha:</strong> ${data.fecha}</p>`;
                    html += `<p><strong>Cantidad de partidos:</strong> ${data.resultados.length}</p>`;
                    html += `<h4>Partidos:</h4>`;
                    
                    data.resultados.forEach((partido, index) => {
                        html += `
                            <div class="partido">
                                <strong>Partido ${index + 1}:</strong> ${partido.local} ${partido.golesLocal} - ${partido.golesVisitante} ${partido.visitante}<br>
                                <strong>Fecha:</strong> ${partido.fecha} - ${partido.hora}<br>
                                ${partido.goleadoresLocal.length > 0 ? `<strong>Goles ${partido.local}:</strong> ${partido.goleadoresLocal.map(g => formatearNombreGoleador(g.nombre) + (g.goles > 1 ? ` (${g.goles})` : '')).join(', ')}<br>` : ''}
                                ${partido.goleadoresVisitante.length > 0 ? `<strong>Goles ${partido.visitante}:</strong> ${partido.goleadoresVisitante.map(g => formatearNombreGoleador(g.nombre) + (g.goles > 1 ? ` (${g.goles})` : '')).join(', ')}<br>` : ''}
                            </div>
                        `;
                    });
                    
                    resultado.innerHTML = html;
                })
                .catch(error => {
                    console.error('Error:', error);
                    resultado.innerHTML = `<h3>‚ùå Error cargando JSON:</h3><p>${error.message}</p>`;
                });
        }
    </script>
</body>
</html>